<%=
  govuk_summary_list do |sl|
    sl.row do |row|
      row.key(text: 'Application ECF ID')
      row.value(text: application.ecf_id || govuk_tag(text: "Missing", colour: "red"))
      row.action
    end

    sl.row do |row|
      row.key(text: 'User ECF ID')
      row.value(text: application.user.ecf_id || govuk_tag(text: "Missing", colour: "red"))
      row.action
    end

    sl.row do |row|
      row.key(text: 'User Identity Provider')
      row.value(text: application.user.provider ? t("omniauth_providers.#{application.user.provider}") : "-")
      row.action
    end

    sl.row do |row|
      row.key(text: 'User Identity UID')
      row.value(text: application.user.uid || '-')
      row.action
    end

    sl.row do |row|
      row.key(text: 'In Get an Identity Pilot?')
      row.value(text: boolean_red_green_tag(application.user.get_an_identity_provider?))
      row.action
    end

    sl.row do |row|
      row.key(text: 'Email')
      row.value(text: application.user.email)
      row.action(text: "View User", href: admin_user_path(application.user))
    end

    sl.row do |row|
      row.key(text: 'Name')
      row.value(text: application.user.full_name)
      row.action
    end

    sl.row do |row|
      row.key(text: 'TRN')
      row.value(text: application.user.trn)
      row.action
    end

    sl.row do |row|
      row.key(text: 'TRN validated')
      row.value(text: application.user.trn_verified.to_s)
      row.action
    end

    sl.row do |row|
      row.key(text: 'TRN auto validated')
      row.value(text: application.user.trn_auto_verified.to_s)
      row.action
    end

    sl.row do |row|
      row.key(text: 'Course')
      row.value(text: localise_course_name(application.course))
      row.action
    end

    sl.row do |row|
      row.key(text: 'Lead provider')
      row.value(text: application.lead_provider.name)
      row.action
    end

    sl.row do |row|
      row.key(text: 'School URN')
      row.value(text: application.school_urn)
      if application.school.present?
        row.action(text: "View School", href: admin_school_path(application.school))
      else
        row.action
      end
    end

    sl.row do |row|
      row.key(text: 'School UKPRN')
      row.value(text: application.ukprn || "-")
      row.action
    end

    sl.row do |row|
      row.key(text: 'Private Childcare Provider URN')
      row.value(text: application.private_childcare_provider_urn || "-")
      row.action
    end

    sl.row do |row|
      row.key(text: 'Headteacher')
      row.value(text: application.headteacher_status)
      row.action
    end

    sl.row do |row|
      row.key(text: 'Funding eligibility')
      row.value(text: boolean_red_green_tag(application.eligible_for_funding))
      row.action
    end

    sl.row do |row|
      row.key(text: 'Funding eligibility status code')
      row.value(text: application.funding_eligiblity_status_code || "-")
      row.action
    end

    sl.row do |row|
      row.key(text: "Targeted delivery funding eligibility")
      row.value { boolean_red_green_tag(application.targeted_delivery_funding_eligibility) }
      row.action
    end

    sl.row do |row|
      row.key(text: 'Funding choice')
      row.value(text: application.funding_choice || "-")
      row.action
    end

    sl.row do |row|
      row.key(text: "Created at")
      row.value { l application.created_at, format: :admin }
      row.action
    end
  end
%>
